{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/Desktop/contacts-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/admin/Desktop/contacts-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import Form from\"../Form/Form\";import\"./NewUser.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewUser(props){console.log(JSON.parse(localStorage.getItem(\"users\")));var _useState=useState(JSON.parse(localStorage.getItem(\"users\"))||[]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setNewUsers=_useState2[1];var retrieveData=function retrieveData(prev){var allUsers=[].concat(_toConsumableArray(users),[prev]);setNewUsers(allUsers);};var delteItem=function delteItem(id){localStorage.setItem(\"users\",JSON.stringify(JSON.parse(localStorage.getItem(\"users\")).filter(function(user){return user.id!==id;})));console.log(id);console.log(JSON.parse(localStorage.getItem(\"users\")).filter(function(user){return user.id!==id;}));var removeUser=users.filter(function(user){return user.id!==id;});setTimeout(function(){setNewUsers(removeUser);},200);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Form,{onHandleSubmit:retrieveData}),/*#__PURE__*/_jsx(\"div\",{className:\"all\",children:users.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"userList\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nameAge\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"user\",children:[user.username,\" \",\"(\"+user.age+\" years old\"+\")\"]}),/*#__PURE__*/_jsx(\"div\",{id:\"underline\"})]}),/*#__PURE__*/_jsx(\"button\",{id:\"delete\",onClick:function onClick(){return delteItem(user.id);},children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"18\",height:\"18\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"#494C6B\",\"fill-rule\":\"evenodd\",d:\"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z\"})})})]},user.id);})})]});}export default NewUser;","map":{"version":3,"names":["React","useState","Form","NewUser","props","console","log","JSON","parse","localStorage","getItem","users","setNewUsers","retrieveData","prev","allUsers","delteItem","id","setItem","stringify","filter","user","removeUser","setTimeout","map","username","age"],"sources":["/Users/admin/Desktop/contacts-manager/src/components/List/NewUser.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Form from \"../Form/Form\";\nimport \"./NewUser.css\";\n\nfunction NewUser(props) {\n  console.log(JSON.parse(localStorage.getItem(\"users\")));\n\n  const [users, setNewUsers] = useState(\n    JSON.parse(localStorage.getItem(\"users\")) || []\n  );\n  const retrieveData = (prev) => {\n    const allUsers = [...users, prev];\n    setNewUsers(allUsers);\n  };\n  const delteItem = (id) => {\n    localStorage.setItem(\n      \"users\",\n      JSON.stringify(\n        JSON.parse(localStorage.getItem(\"users\")).filter((user) => {\n          return user.id !== id;\n        })\n      )\n    );\n\n    console.log(id);\n    console.log(\n      JSON.parse(localStorage.getItem(\"users\")).filter((user) => {\n        return user.id !== id;\n      })\n    );\n    const removeUser = users.filter((user) => {\n      return user.id !== id;\n    });\n    setTimeout(() => {\n      setNewUsers(removeUser);\n    }, 200);\n  };\n\n  return (\n    <div>\n      <Form onHandleSubmit={retrieveData} />\n      <div className=\"all\">\n        {users.map((user) => (\n          <div key={user.id} className=\"userList\">\n            <div className=\"nameAge\">\n              <div id=\"user\">\n                {user.username} {\"(\" + user.age + \" years old\" + \")\"}\n              </div>\n              <div id=\"underline\"></div>\n            </div>\n            <button id=\"delete\" onClick={() => delteItem(user.id)}>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"18\" height=\"18\">\n                <path\n                  fill=\"#494C6B\"\n                  fill-rule=\"evenodd\"\n                  d=\"M16.97 0l.708.707L9.546 8.84l8.132 8.132-.707.707-8.132-8.132-8.132 8.132L0 16.97l8.132-8.132L0 .707.707 0 8.84 8.132 16.971 0z\"\n                />\n              </svg>\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default NewUser;\n"],"mappings":"8PAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAOC,KAAI,KAAM,cAAc,CAC/B,MAAO,eAAe,CAAC,wFAEvB,QAASC,QAAO,CAACC,KAAK,CAAE,CACtBC,OAAO,CAACC,GAAG,CAACC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAEtD,cAA6BT,QAAQ,CACnCM,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,EAAI,EAAE,CAChD,wCAFMC,KAAK,eAAEC,WAAW,eAGzB,GAAMC,aAAY,CAAG,QAAfA,aAAY,CAAIC,IAAI,CAAK,CAC7B,GAAMC,SAAQ,8BAAOJ,KAAK,GAAEG,IAAI,EAAC,CACjCF,WAAW,CAACG,QAAQ,CAAC,CACvB,CAAC,CACD,GAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,EAAE,CAAK,CACxBR,YAAY,CAACS,OAAO,CAClB,OAAO,CACPX,IAAI,CAACY,SAAS,CACZZ,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACU,MAAM,CAAC,SAACC,IAAI,CAAK,CACzD,MAAOA,KAAI,CAACJ,EAAE,GAAKA,EAAE,CACvB,CAAC,CAAC,CACH,CACF,CAEDZ,OAAO,CAACC,GAAG,CAACW,EAAE,CAAC,CACfZ,OAAO,CAACC,GAAG,CACTC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAC,CAACU,MAAM,CAAC,SAACC,IAAI,CAAK,CACzD,MAAOA,KAAI,CAACJ,EAAE,GAAKA,EAAE,CACvB,CAAC,CAAC,CACH,CACD,GAAMK,WAAU,CAAGX,KAAK,CAACS,MAAM,CAAC,SAACC,IAAI,CAAK,CACxC,MAAOA,KAAI,CAACJ,EAAE,GAAKA,EAAE,CACvB,CAAC,CAAC,CACFM,UAAU,CAAC,UAAM,CACfX,WAAW,CAACU,UAAU,CAAC,CACzB,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAED,mBACE,oCACE,KAAC,IAAI,EAAC,cAAc,CAAET,YAAa,EAAG,cACtC,YAAK,SAAS,CAAC,KAAK,UACjBF,KAAK,CAACa,GAAG,CAAC,SAACH,IAAI,qBACd,aAAmB,SAAS,CAAC,UAAU,wBACrC,aAAK,SAAS,CAAC,SAAS,wBACtB,aAAK,EAAE,CAAC,MAAM,WACXA,IAAI,CAACI,QAAQ,KAAG,GAAG,CAAGJ,IAAI,CAACK,GAAG,CAAG,YAAY,CAAG,GAAG,GAChD,cACN,YAAK,EAAE,CAAC,WAAW,EAAO,GACtB,cACN,eAAQ,EAAE,CAAC,QAAQ,CAAC,OAAO,CAAE,yBAAMV,UAAS,CAACK,IAAI,CAACJ,EAAE,CAAC,EAAC,uBACpD,YAAK,KAAK,CAAC,4BAA4B,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,IAAI,uBAC5D,aACE,IAAI,CAAC,SAAS,CACd,YAAU,SAAS,CACnB,CAAC,CAAC,iIAAiI,EACnI,EACE,EACC,GAfDI,IAAI,CAACJ,EAAE,CAgBX,EACP,CAAC,EACE,GACF,CAEV,CAEA,cAAed,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}