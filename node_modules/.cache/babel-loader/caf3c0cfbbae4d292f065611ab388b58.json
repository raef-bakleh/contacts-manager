{"ast":null,"code":"import _toConsumableArray from\"/Users/admin/Desktop/contacts-manager/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/admin/Desktop/contacts-manager/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{ChangeEvent,useState,useRef,useEffect}from\"react\";import Error from\"../Error/Error\";import Button from\"./Button\";import\"./Form.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Form(props){// const nameInputRef =  useRef('');\n// const ageInputRef =  useRef('');\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),age=_useState4[0],setUserAge=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var userNameInput=function userNameInput(usernameInput){setUserName(usernameInput.target.value);};var userAgeInput=function userAgeInput(userageInput){setUserAge(userageInput.target.value);};var returnNewUser=function returnNewUser(event){event.preventDefault();// const username = nameInputRef.current.value\n// const age = ageInputRef.current.value\nif(username.trim().length===0||age.trim().length===0){setError({title:\"invalid Input\",message:\"Please enter a valid age and username\"});return;}if(age<1){setError({title:\"invalid age\",message:\"please enter a valid age number\"});return;}var newUser={id:Math.round(Math.random()*1000),username:username,age:age};localStorage.setItem(\"users\",JSON.stringify([].concat(_toConsumableArray(JSON.parse(localStorage.getItem(\"users\")||\"[]\")),[newUser])));console.log(JSON.parse(localStorage.getItem(\"users\")));setUserName(\"\");setUserAge(\"\");// nameInputRef.current.value = '';\n// ageInputRef.current.value = ''\nprops.onHandleSubmit(newUser);};var removeError=function removeError(){setError(null);console.log(error);};return/*#__PURE__*/_jsxs(\"div\",{className:\"wErr\",children:[error&&/*#__PURE__*/_jsx(Error,{onChange:removeError,title:error.title,message:error.message}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",action:\"submit\",onSubmit:returnNewUser,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{// ref={nameInputRef}\nonChange:userNameInput,type:\"text\",id:\"username\",name:\"username\",value:username,className:\"\".concat(username?\"has-value\":\"\")}),/*#__PURE__*/_jsx(\"label\",{id:\"username\",htmlFor:\"username\",children:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input\",children:[/*#__PURE__*/_jsx(\"input\",{// ref={ageInputRef}\nonChange:userAgeInput,type:\"number\",id:\"age\",name:\"age\",value:age,className:\"\".concat(age?\"has-value\":\"\")}),/*#__PURE__*/_jsxs(\"label\",{id:\"age\",htmlFor:\"age\",children:[\"Age (Years)\",\" \"]})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Add User\"})]})]});}export default Form;","map":{"version":3,"names":["React","ChangeEvent","useState","useRef","useEffect","Error","Button","Form","props","username","setUserName","age","setUserAge","error","setError","userNameInput","usernameInput","target","value","userAgeInput","userageInput","returnNewUser","event","preventDefault","trim","length","title","message","newUser","id","Math","round","random","localStorage","setItem","JSON","stringify","parse","getItem","console","log","onHandleSubmit","removeError"],"sources":["/Users/admin/Desktop/contacts-manager/src/components/Form/Form.js"],"sourcesContent":["import React, { ChangeEvent, useState, useRef, useEffect } from \"react\";\nimport Error from \"../Error/Error\";\nimport Button from \"./Button\";\nimport \"./Form.css\";\n\nfunction Form(props) {\n  // const nameInputRef =  useRef('');\n  // const ageInputRef =  useRef('');\n  const [username, setUserName] = useState(\"\");\n  const [age, setUserAge] = useState(\"\");\n  const [error, setError] = useState();\n  const userNameInput = (usernameInput) => {\n    setUserName(usernameInput.target.value);\n  };\n  const userAgeInput = (userageInput) => {\n    setUserAge(userageInput.target.value);\n  };\n  const returnNewUser = (event) => {\n    event.preventDefault();\n    // const username = nameInputRef.current.value\n    // const age = ageInputRef.current.value\n    if (username.trim().length === 0 || age.trim().length === 0) {\n      setError({\n        title: \"invalid Input\",\n        message: \"Please enter a valid age and username\",\n      });\n      return;\n    }\n    if (age < 1) {\n      setError({\n        title: \"invalid age\",\n        message: \"please enter a valid age number\",\n      });\n      return;\n    }\n    const newUser = {\n      id: Math.round(Math.random() * 1000),\n      username: username,\n      age: age,\n    };\n    localStorage.setItem(\n      \"users\",\n      JSON.stringify([\n        ...JSON.parse(localStorage.getItem(\"users\") || \"[]\"),\n        newUser,\n      ])\n    );\n\n    console.log(JSON.parse(localStorage.getItem(\"users\")));\n    setUserName(\"\");\n    setUserAge(\"\");\n    // nameInputRef.current.value = '';\n    // ageInputRef.current.value = ''\n    props.onHandleSubmit(newUser);\n  };\n\n  const removeError = () => {\n    setError(null);\n    console.log(error);\n  };\n  return (\n    <div className=\"wErr\">\n      {error && (\n        <Error\n          onChange={removeError}\n          title={error.title}\n          message={error.message}\n        />\n      )}\n      <form className=\"form\" action=\"submit\" onSubmit={returnNewUser}>\n        <div className=\"input\">\n          <input\n            // ref={nameInputRef}\n            onChange={userNameInput}\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            value={username}\n            className={`${username ? \"has-value\" : \"\"}`}\n          />\n          <label id=\"username\" htmlFor=\"username\">\n            Username\n          </label>\n        </div>\n        <div className=\"input\">\n          <input\n            // ref={ageInputRef}\n            onChange={userAgeInput}\n            type=\"number\"\n            id=\"age\"\n            name=\"age\"\n            value={age}\n            className={`${age ? \"has-value\" : \"\"}`}\n          />\n          <label id=\"age\" htmlFor=\"age\">\n            Age (Years){\" \"}\n          </label>\n        </div>\n        <Button type=\"submit\">Add User</Button>\n      </form>\n    </div>\n  );\n}\n\nexport default Form;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}